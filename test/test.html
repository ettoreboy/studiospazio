<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta charset="UTF-8" />
  <title>Display images using JQuery</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/1.2.14/js/lightgallery.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/1.2.14/js/lg-fullscreen.min.js"></script>
  <script src="../js/scroll.js"></script>

  <script type="text/javascript" src="../js/main.js"></script>

  <link href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/1.2.14/css/lightgallery.min.css" rel="stylesheet">
  <link href="../css/reset.css" rel="stylesheet">
  <link href="../css/style.css" rel="stylesheet">
  <script>
  $(window).load(function() {
    // Animate loader off screen
    $(".se-pre-con").fadeOut("slow");

  });
   // Function to init the canvas
   function init() {
    var projects;
      loadConfig('../test/test.json').done(function(response) { //is returned as deffered object
        projects = response.projects;
        console.log(projects);
        var imgObj = '[';
        for(var i = 0; i < projects.length; i++) {
          var id = projects[i].n;
            for(var n = 0; n < projects[i].pics.length; n++) {
            //loadImage(id + n, projects[i].pics[n], '.content');
              var ident = id + i;
              createGalleryItem(ident, projects[i].pics[n]);
               imgObj = imgObj + '{"src":\''+ projects[i].pics[n] +'\'},';
            }
        }

        imgObj = imgObj.substring(0, imgObj.length - 1) +']';
        console.log(imgObj);
        var horwheel = require('scroll');
        var wrapper = document.querySelector('#lightgallery');
        horwheel(wrapper);
        /*
        $("#lightgallery").lightGallery({
          dynamic: true,
          dynamicEl: '\''+imgObj+'\'',
          width: '700px',
          height: '470px',
          mode: 'lg-fade',
          download: true,
          enableSwipe: false,
          enableDrag: false,
          speed: 500
        });*/

    });

    //loadImage("../images/test.jpg", 800, 600, '.content');
   }
  </script>
</head>

 <!-- Don't forget the init funcion to be called onload -->
 <body onload="init()">
   <div id="" class="se-pre-con" ></div>
   <div id="content" class="content" ></div>


    <div id="lightgallery">
      <div class="section">
                   <div class="article"></div>
                   <div class="article"></div>
                   <div class="article"></div>
                   <div class="article"></div>
                   <div class="article"></div>
                   <div class="article"></div>
                   <div class="article"></div>
                   <div class="article"></div>
                   <div class="article"></div>
      </div>
    </div>

 </body>
</html>
